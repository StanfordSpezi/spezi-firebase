{
  "0": {
    "resourceType": "SubscriptionTopic",
    "id": "patient-admission",
    "url": "http://example.org/fhir/SubscriptionTopic/patient-admission",
    "status": "active",
    "resourceTrigger": [
      {
        "resource": "http://hl7.org/fhir/StructureDefinition/Encounter",
        "supportedInteraction": ["create", "update"],
        "fhirPathCriteria": "(%previous.empty() | (%previous.status != 'in-progress')) and (%current.status = 'in-progress')"
      }
    ]
  },
  "1": {
    "resourceType": "SubscriptionTopic",
    "id": "vitals-monitoring",
    "url": "http://example.org/fhir/SubscriptionTopic/vitals-monitoring",
    "status": "draft",
    "title": "Vital Signs Monitoring",
    "date": "2023-05-20T12:00:00Z",
    "publisher": "Example Health System",
    "resourceTrigger": [
      {
        "description": "Monitor for new vital signs observations",
        "resource": "http://hl7.org/fhir/StructureDefinition/Observation",
        "supportedInteraction": ["create"],
        "queryCriteria": {
          "current": "category=vital-signs"
        }
      }
    ],
    "canFilterBy": [
      {
        "filterParameter": "patient",
        "resource": "http://hl7.org/fhir/StructureDefinition/Observation"
      },
      {
        "filterParameter": "code",
        "resource": "http://hl7.org/fhir/StructureDefinition/Observation",
        "modifier": ["=", "in"]
      }
    ],
    "notificationShape": [
      {
        "resource": "http://hl7.org/fhir/StructureDefinition/Observation",
        "include": ["Observation:patient"]
      }
    ]
  },
  "2": {
    "resourceType": "SubscriptionTopic",
    "id": "medication-dispense",
    "url": "http://example.org/fhir/SubscriptionTopic/medication-dispense",
    "status": "active",
    "experimental": false,
    "eventTrigger": [
      {
        "description": "Notification when medication is dispensed",
        "resource": "http://hl7.org/fhir/StructureDefinition/MedicationDispense",
        "event": {
          "coding": [
            {
              "system": "http://terminology.hl7.org/CodeSystem/v3-ActCode",
              "code": "DISPENSE"
            }
          ]
        }
      }
    ],
    "canFilterBy": [
      {
        "filterParameter": "patient",
        "resource": "http://hl7.org/fhir/StructureDefinition/MedicationDispense",
        "description": "Filter by patient"
      }
    ]
  },
  "3": {
    "resourceType": "SubscriptionTopic",
    "id": "lab-results",
    "url": "http://example.org/fhir/SubscriptionTopic/lab-results",
    "status": "active",
    "approvalDate": "2023-01-01",
    "lastReviewDate": "2023-06-01",
    "resourceTrigger": [
      {
        "description": "Lab results available",
        "resource": "http://hl7.org/fhir/StructureDefinition/DiagnosticReport",
        "supportedInteraction": ["create", "update"],
        "queryCriteria": {
          "current": "status=final",
          "previous": "status!=final",
          "requireBoth": false,
          "resultForCreate": "test-passes"
        }
      }
    ],
    "canFilterBy": [
      {
        "filterParameter": "category",
        "resource": "http://hl7.org/fhir/StructureDefinition/DiagnosticReport",
        "filterDefinition": "http://example.org/fhir/SearchParameter/diagnostic-report-category",
        "modifier": ["=", "in", "not-in"]
      }
    ],
    "notificationShape": [
      {
        "resource": "http://hl7.org/fhir/StructureDefinition/DiagnosticReport",
        "include": ["DiagnosticReport:subject", "DiagnosticReport:result"],
        "revInclude": ["Observation:focus"]
      }
    ]
  }
}
